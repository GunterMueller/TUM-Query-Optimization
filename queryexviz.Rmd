---
title: "R Notebook"
output: html_notebook
---

```{r}
library(ggplot2)
fileNames <- c("q1.sql.txt","q2.sql.txt","q3.sql.txt","q4.sql.txt")

readResults <- function(num) {
  conn <- file(fileNames[num],open="r")
  res <-readLines(conn)
  close(conn)
  return(res)
}
q1 <- sapply(readResults(1),as.numeric)
q2 <- sapply(readResults(2),as.numeric)
q3 <- sapply(readResults(3),as.numeric)
q4 <- sapply(readResults(4),as.numeric)
```


```{r}
makeplot <- function(data) {
data <- sort(data)
df1 <- as.data.frame(table(data))
ggplot(data=df1,aes(x=df1$data, y=df1$Freq)) + geom_bar(stat="identity") + geom_text(aes(label=df1$Freq), vjust=-0.3, size=3.5) + labs(x = "Cost", y="Count")
}

makeplot(q1) + coord_flip()
makeplot(q2) + coord_flip()
makeplot(q3) + coord_flip()
makeplot(q4) + coord_flip()
```